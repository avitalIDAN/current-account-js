<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>מנהל הכנסות והוצאות</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="icon-up-down.png">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>
<body>
    <h1>מנהל הכנסות והוצאות</h1>
    <!-- <div id="colorLegend">
        <p><span style="background-color: #d4f8d4;">&nbsp;&nbsp;&nbsp;</span> הכנסה</p>
        <p><span style="background-color: #f8d4d4;">&nbsp;&nbsp;&nbsp;</span> הוצאה</p>
        <p><span style="background-color: #fff4d4;">&nbsp;&nbsp;&nbsp;</span> הלוואה</p>
        <p><span style="background-color: #d4e3f8;">&nbsp;&nbsp;&nbsp;</span> החזר</p>
    </div> -->
    <!-- טופס קלט -->
     
    <div class="add-expense-container">
        <h2>הוספה חדשה</h2>

        <!-- הכנסה, הוצאה או הלוואה -->
        <label style="color:rgb(0, 255, 0)">
            <input type="radio" name="type" value="income"> הכנסה
        </label>
        <label style="color:rgb(255, 0, 0)">
            <input type="radio" name="type" value="expense" > הוצאה
        </label>
        <label style="color:rgb(255, 0, 0)">
            <input type="radio" name="type" value="loan" > הלוותי / החזרתי
        </label>
        <label style="color:rgb(0, 255, 0)">
            <input type="radio" name="type" value="repayment" > לוויתי/ החזירו
        </label>
        
        <br><br>
        <label for="amount">סכום:</label>
        <input type="number" id="amount" placeholder="הכנס סכום">
        <br><br>

        <label for="description">תיאור:</label>
        <input type="text" id="description" placeholder="הכנס תיאור">
        <br><br>

        <label for="paymentMethod">צורת תשלום:</label>
        <select id="paymentMethod">
            <option value="מזומן">מזומן</option>
            <option value="אשראי">אשראי</option>
            <option value="העברה בנקאית">העברה בנקאית</option>
            <option value="פייבוקס">פייבוקס</option>
        </select>
        <br><br>

        <label for="expenseDate">תאריך: <input type="date" id="expenseDate"></label>
        <br><br>
        <button onclick="addExpense()">הוסף</button>
    </div>

    <h3 id="totalIncome" style="color:rgb(0, 255, 0)">סך הכנסות: 0</h3>
    <h3 id="totalExpense" style="color:rgb(255, 0, 0)">סך הוצאות: 0</h3>
    <h3 id="loanSummary" style="display: none; color:rgb(0, 0, 255)">סך הלוואות: הוצאה- 0, הכנסה- 0</h3>
    <h3 id="total" >סך הכל: 0</h3>

    <label>מתאריך: <input type="date" id="startDate" onchange="filterByDateRange()"></label>
    <label>עד תאריך: <input type="date" id="endDate" onchange="filterByDateRange()"></label>

    <!-- טבלת הכנסות והוצאות -->
    <h2>רשימת הכנסות והוצאות:</h2>
    <table id="expenseTable">
        <thead>
            <tr>
                <!-- <th>תאריך</th>
                <th>סכום</th>
                <th>תיאור</th>
                <th>צורת תשלום</th>
                <th>הכנסה</th>
                <th>הוצאה</th>
                <th>עריכה</th>
                <th>מחיקה</th> -->
                <th onclick="sortExpenses('date')">תאריך <span class="sort-icon"></span></th>
                <th onclick="sortExpenses('amount')">סכום <span class="sort-icon"></span></th>
                <th onclick="sortExpenses('description')">תיאור <span class="sort-icon"></span></th>
                <th onclick="sortExpenses('paymentMethod')">צורת תשלום <span class="sort-icon"></span></th>
                <th onclick="sortExpenses('income')">הכנסה <span class="sort-icon"></span></th>
                <th onclick="sortExpenses('expense')">הוצאה <span class="sort-icon"></span></th>
                <th>עריכה</th>
                <th>מחיקה</th> 
            </tr>
            <tr>
                <th><input type="text" placeholder="סנן לפי תאריך" oninput="filterExpenses()"></th>
                <th><input type="number" placeholder="סנן לפי סכום" oninput="filterExpenses()"></th>
                <th><input type="text" placeholder="סנן לפי תיאור" oninput="filterExpenses()"></th>
                <th><input type="text" placeholder="סנן לפי תשלום" oninput="filterExpenses()"></th>
                <th colspan="4">
                    <button onclick="filterExpenses('income')">רק הכנסות</button>
                    <button onclick="filterExpenses('expense')">רק הוצאות</button>
                    <button onclick="filterExpenses('loan_repayment')">הלוואות והחזרים</button>
                    <button onclick="filterExpenses('all')">הכל</button>
                </th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
<!--     <h3 id="total">סך הכל: 0</h3> -->

    <!-- טעינת קבצי JavaScript -->
    <script src="hebrewDate.js"></script>
    <script src="table.js"></script>
    <script src="app.js"></script>
</body>
</html>
